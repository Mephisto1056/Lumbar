"use client";
import Link from "next/link";
import UserMenuExpand from "./UserMenuExpand";
import { usePathname } from "next/navigation";

const Navbar = () => {
  const pathname = usePathname(); // 直接获取当前路径（如 "/about"）
  const navbarButtonStyle = `transform transition-transform duration-300  hover:scale-110 h-8 flex items-center justify-center gap-1 cursor-pointer cursor-point
   border-indigo-500 text-indigo-500 hover:text-white hover:bg-indigo-600
  `;
  return (
    <div className="z-10 fixed left-[2%] w-[96%] pl-[10%] pr-[15%] bg-white/10 h-[5%] my-1 rounded-3xl flex justify-between items-center shadow-2xl">
      <div className={navbarButtonStyle+`rounded-3xl px-4`}>
        <svg
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 20 20"
          fill="currentColor"
          className="size-5"
        >
          <path
            fillRule="evenodd"
            d="M9.293 2.293a1 1 0 0 1 1.414 0l7 7A1 1 0 0 1 17 11h-1v6a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1v-3a1 1 0 0 0-1-1H9a1 1 0 0 0-1 1v3a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-6H3a1 1 0 0 1-.707-1.707l7-7Z"
            clipRule="evenodd"
            transform="translate(0, -1)"
          />
        </svg>

        <Link href="/" className="font-semibold text-sm">
          GPAI
        </Link>
      </div>

      <div
        className={
          navbarButtonStyle +
          `${
            pathname === "/ai-chat" ? "bg-indigo-500 text-white" : ""
          }  rounded-3xl px-4`
        }
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 20 20"
          fill="currentColor"
          className="size-5"
        >
          <path
            fillRule="evenodd"
            d="M10 2c-2.236 0-4.43.18-6.57.524C1.993 2.755 1 4.014 1 5.426v5.148c0 1.413.993 2.67 2.43 2.902.848.137 1.705.248 2.57.331v3.443a.75.75 0 0 0 1.28.53l3.58-3.579a.78.78 0 0 1 .527-.224 41.202 41.202 0 0 0 5.183-.5c1.437-.232 2.43-1.49 2.43-2.903V5.426c0-1.413-.993-2.67-2.43-2.902A41.289 41.289 0 0 0 10 2Zm0 7a1 1 0 1 0 0-2 1 1 0 0 0 0 2ZM8 8a1 1 0 1 1-2 0 1 1 0 0 1 2 0Zm5 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z"
            clipRule="evenodd"
          />
        </svg>
        <Link href="/ai-chat" className="font-semibold text-sm">
          RAG-Chat
        </Link>
      </div>

      <div
        className={
          navbarButtonStyle +
          `${
            pathname === "/work-flow" ? "bg-indigo-500 text-white" : ""
          }  rounded-3xl px-4`
        }
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 20 20"
          fill="currentColor"
          className="size-5"
        >
          <path
            fillRule="evenodd"
            d="M3.25 3A2.25 2.25 0 0 0 1 5.25v9.5A2.25 2.25 0 0 0 3.25 17h13.5A2.25 2.25 0 0 0 19 14.75v-9.5A2.25 2.25 0 0 0 16.75 3H3.25Zm.943 8.752a.75.75 0 0 1 .055-1.06L6.128 9l-1.88-1.693a.75.75 0 1 1 1.004-1.114l2.5 2.25a.75.75 0 0 1 0 1.114l-2.5 2.25a.75.75 0 0 1-1.06-.055ZM9.75 10.25a.75.75 0 0 0 0 1.5h2.5a.75.75 0 0 0 0-1.5h-2.5Z"
            clipRule="evenodd"
          />
        </svg>

        <Link
          href="/work-flow"
          // onClick={() => {
          //   window.confirm("coming soon...");
          // }}
          className="font-semibold text-sm"
        >
          Work-Flow
        </Link>
      </div>

      <div
        className={
          navbarButtonStyle +
          `${
            pathname === "/knowledge-base" ? "bg-indigo-500 text-white" : ""
          } rounded-3xl px-4`
        }
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 20 20"
          fill="currentColor"
          className="size-5"
        >
          <path d="M10.75 16.82A7.462 7.462 0 0 1 15 15.5c.71 0 1.396.098 2.046.282A.75.75 0 0 0 18 15.06v-11a.75.75 0 0 0-.546-.721A9.006 9.006 0 0 0 15 3a8.963 8.963 0 0 0-4.25 1.065V16.82ZM9.25 4.065A8.963 8.963 0 0 0 5 3c-.85 0-1.673.118-2.454.339A.75.75 0 0 0 2 4.06v11a.75.75 0 0 0 .954.721A7.506 7.506 0 0 1 5 15.5c1.579 0 3.042.487 4.25 1.32V4.065Z" />
        </svg>
        <Link href="/knowledge-base" className="font-semibold text-sm">
          Knowledge-Base
        </Link>
      </div>

      <UserMenuExpand />
    </div>
  );
};

export default Navbar;
